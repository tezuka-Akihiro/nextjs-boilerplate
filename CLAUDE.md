# CLAUDE.md - プロジェクト開発指示書

絶対に守ること。
現在は設計中であるため実装はしない。

## 📋 プロジェクト概要

**[プロジェクト詳細]**: [`docs/project/project-overview.md`](./docs/project/project-overview.md)
- **アプリ名**: 
- **目的**: 

## ⚠️ 重要な制約・開発原則
AIエージェントの開発を前提としたwebアプリの個人開発用のリポジトリ
AIエージェントの作業効率の最適化
→ AIはいかなる機能の要件と画面構成に対し、共通の仕様書を辿りながら最も抽象化された内容から始まり最も具体化された内容へたどり着くことができる。

### タスクワークフロー
①AIによる修正後の機能と画面仕様書の作成
②人間による承認
③コード修正とコミットフック
関連仕様書の更新
ドキュメントとの整合性
テンプレート遵守

### 📋 ドキュメント管理 Documentation as Code
フォルダの説明を以下の2ファイルで明示。
①README.md 要件仕様書
②wireframe.md 画面仕様書

リンク集とした AI_AGENT.md を起点とし全てのコードの仕様書へ辿れる状態を保つ

### ドキュメントファイル制限
- **最大500行制限**: README・設計・方針ファイルは500行以内
- **分割基準**: 機能別・責務別に自然な単位で分割
- **適用外**: ワイヤーフレーム等の図説明ファイルは制限対象外
- **500行超過時**: 論理単位での分割を必須とする

**[README分散配置管理]**: [`docs/README.md`](./docs/README.md)
- 全READMEファイルの責務・参照タイミングを一元管理
- 抽象設計 vs 具体実装ルールの棲み分け
- 新規README作成時の管理ルール

### 品質
#### ユニットテスト
全てのコードをテスト対象
全クラスに対してテストクラスが存在

### テンプレート起点
コード生成時は必ず `docs/templates/` のひな型を参照してください：
各ひな型の制約・命名規則・コメント記法を必ず守ってください。
詳細は [`docs/templates/README.md`](./docs/templates/README.md) を参照。
**要件定義作成時は必須**：新機能・サービス要件作成時は対応するテンプレートから開始してください。

### 要件肥大化防止
個人開発用なのでミニマムシンプル構成
#### 全要件の共通3段階層化
app-service-機能
フォルダに意味を持たせる
要件の複雑化の回避

#### 1サービスSPA縦スクロール画面
**[フロントエンド実装ルール]**: [`src/app/README.md`](./src/app/README.md)
- 1サービス1SPA設計の徹底
- セクション切り替えによる統合ダッシュボード

#### バックエンドロジック共通階層化
**[バックエンド実装ルール]**: [`src/backend/README.md`](./src/backend/README.md)
- AI滑走路4層アーキテクチャの厳格な遵守
- 階層違反禁止・1ファイル1クラス原則

### 要件の単一性：MVPに集中
1. 「フェーズ2」「将来機能」は存在しない: 要件は常にMVP（Minimum Viable Product）に絞り込みます。
現時点で実装しない機能は、「将来」という曖昧な概念ではなく、**「このプロジェクトの範囲外（Out of Scope）」**として明確に割り切ります。
目的: 設計フェーズでの大規模な要件変更と、それに伴うAIの試行錯誤を最小限に抑え、開発を迅速に前進させます。

2. データベース設計の安全性：テーブル追加のみ
DBスキーマは常に最小限: 設計段階では、MVPの要件を満たすために必要不可欠なテーブルとフィールドのみを定義します。
マイグレーションの制約: 既存のテーブルへのフィールド追加は原則禁止とします。新しい機能のためにデータが必要な場合は、必ず新しいテーブルを追加し、外部キーで関連付けます。
安全性の確保: 既存データやアプリケーションの動作に影響を与えることなく、安全にマイグレーション（スキーマ変更）を実行します。
ドキュメントとコードの乖離防止: AIによる設計の試行錯誤時に、DBスキーマの変更が漏れるリスクを根本から排除します。
関心の分離: 機能ごとのデータを独立したテーブルで管理し、システムの保守性と拡張性を高めます。

3. 複雑性の管理：サービス分割
サービスごとの独立性: テーブルの追加だけでは要件が複雑になりすぎると判断される場合は、その機能は別のサービスとして切り出すことを検討します。
目的: 1つのサービスの肥大化を防ぎ、開発の複雑性を抑制します。

## 🔧 開発・品質管理
**[src/実装ルール統合]**: [`src/README.md`](./src/README.md)
- コード品質基準・命名規則・Git管理

## 主要機能（MVP）
`src/app/README.md`

## 🚀 運用・デプロイメント

**[デプロイメント戦略]**: [`docs/deployment/strategy.md`](./docs/deployment/strategy.md)
- GitHub Actions CI/CD・環境変数管理
- Vercel デプロイ・監視システム統合

## 🔗 関連ドキュメント
### 開発・運用支援
- **[API仕様書]**: `docs/architecture/api-specification.md`
- **[データベース設計]**: `docs/database/`
- **[テスト実行ガイド]**: `docs/testing/test-execution-guide.md`

---


> **注記**: この指示書はプロジェクトの開発方針を定める重要なドキュメントです。全開発者が遵守してください。
